"use strict";(self.webpackChunkgfdoc=self.webpackChunkgfdoc||[]).push([[42749],{417159:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>a,contentTitle:()=>i,default:()=>g,frontMatter:()=>c,metadata:()=>o,toc:()=>d});var s=r(474848),t=r(28453);const c={title:"gvar (\u901a\u7528\u53d8\u91cf)",sidebar_position:4},i=void 0,o={id:"\u6a21\u5757\u5217\u8868/\u6570\u636e\u7ed3\u6784/gvar -\u901a\u7528\u53d8\u91cf",title:"gvar (\u901a\u7528\u53d8\u91cf)",description:"\u901a\u7528\u52a8\u6001\u53d8\u91cf\uff0c\u652f\u6301\u5404\u79cd\u5185\u7f6e\u7684\u6570\u636e\u7c7b\u578b\u8f6c\u6362\uff0c\u53ef\u4ee5\u4f5c\u4e3a interface{} \u7c7b\u578b\u7684\u66ff\u4ee3\u6570\u636e\u7c7b\u578b\uff0c\u5e76\u4e14\u8be5\u7c7b\u578b\u652f\u6301\u5e76\u53d1\u5b89\u5168\u5f00\u5173\u3002",source:"@site/versioned_docs/version-1.16.x/2-\u6a21\u5757\u5217\u8868/0-\u6570\u636e\u7ed3\u6784/4-gvar -\u901a\u7528\u53d8\u91cf.md",sourceDirName:"2-\u6a21\u5757\u5217\u8868/0-\u6570\u636e\u7ed3\u6784",slug:"/\u6a21\u5757\u5217\u8868/\u6570\u636e\u7ed3\u6784/gvar -\u901a\u7528\u53d8\u91cf",permalink:"/docs/1.16.x/\u6a21\u5757\u5217\u8868/\u6570\u636e\u7ed3\u6784/gvar -\u901a\u7528\u53d8\u91cf",draft:!1,unlisted:!1,tags:[],version:"1.16.x",sidebarPosition:4,frontMatter:{title:"gvar (\u901a\u7528\u53d8\u91cf)",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"glist (\u94fe\u8868)",permalink:"/docs/1.16.x/\u6a21\u5757\u5217\u8868/\u6570\u636e\u7ed3\u6784/glist -\u94fe\u8868"},next:{title:"gtype (\u5e76\u53d1\u5b89\u5168\u7c7b\u578b)",permalink:"/docs/1.16.x/\u6a21\u5757\u5217\u8868/\u6570\u636e\u7ed3\u6784/gtype -\u5e76\u53d1\u5b89\u5168\u7c7b\u578b"}},a={},d=[{value:"\u57fa\u672c\u4f7f\u7528",id:"\u57fa\u672c\u4f7f\u7528",level:3},{value:"<code>JSON</code> \u5e8f\u5217\u5316/\u53cd\u5e8f\u5217",id:"json-\u5e8f\u5217\u5316\u53cd\u5e8f\u5217",level:3}];function l(n){const e={a:"a",code:"code",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:r(563513).A+"",width:"1569",height:"878"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"\u901a\u7528\u52a8\u6001\u53d8\u91cf"}),"\uff0c\u652f\u6301\u5404\u79cd\u5185\u7f6e\u7684\u6570\u636e\u7c7b\u578b\u8f6c\u6362\uff0c\u53ef\u4ee5\u4f5c\u4e3a ",(0,s.jsx)(e.code,{children:"interface{}"})," \u7c7b\u578b\u7684\u66ff\u4ee3\u6570\u636e\u7c7b\u578b\uff0c\u5e76\u4e14\u8be5\u7c7b\u578b\u652f\u6301\u5e76\u53d1\u5b89\u5168\u5f00\u5173\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:["\u6846\u67b6\u540c\u65f6\u63d0\u4f9b\u4e86 ",(0,s.jsx)(e.code,{children:"g.Var"})," \u7684\u6570\u636e\u7c7b\u578b\uff0c\u5176\u5b9e\u4e5f\u662f ",(0,s.jsx)(e.code,{children:"gvar.Var"})," \u6570\u636e\u7c7b\u578b\u7684\u522b\u540d\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u4f7f\u7528\u573a\u666f"}),"\uff1a"]}),"\n",(0,s.jsxs)(e.p,{children:["\u4f7f\u7528 ",(0,s.jsx)(e.code,{children:"interface{}"})," \u7684\u573a\u666f\uff0c\u5404\u79cd\u4e0d\u56fa\u5b9a\u6570\u636e\u7c7b\u578b\u683c\u5f0f\uff0c\u6216\u8005\u9700\u8981\u5bf9\u53d8\u91cf\u8fdb\u884c\u9891\u7e41\u7684\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u7684\u573a\u666f\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u4f7f\u7528\u65b9\u5f0f"}),"\uff1a"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:'import "github.com/gogf/gf/container/gvar"\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u63a5\u53e3\u6587\u6863"}),"\uff1a"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"https://godoc.org/github.com/gogf/gf/container/gvar",children:"https://godoc.org/github.com/gogf/gf/container/gvar"})}),"\n",(0,s.jsx)(e.h3,{id:"\u57fa\u672c\u4f7f\u7528",children:"\u57fa\u672c\u4f7f\u7528"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n    "github.com/gogf/gf/frame/g"\n    "fmt"\n)\n\nfunc main() {\n    var v g.Var\n\n    v.Set("123")\n\n    fmt.Println(v.Val())\n\n    // \u57fa\u672c\u7c7b\u578b\u8f6c\u6362\n    fmt.Println(v.Int())\n    fmt.Println(v.Uint())\n    fmt.Println(v.Float64())\n\n    // slice\u8f6c\u6362\n    fmt.Println(v.Ints())\n    fmt.Println(v.Floats())\n    fmt.Println(v.Strings())\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u6267\u884c\u540e\uff0c\u8f93\u51fa\u7ed3\u679c\u4e3a\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-html",children:"123\n123\n123\n123\n[123]\n[123]\n[123]\n"})}),"\n",(0,s.jsxs)(e.h3,{id:"json-\u5e8f\u5217\u5316\u53cd\u5e8f\u5217",children:[(0,s.jsx)(e.code,{children:"JSON"})," \u5e8f\u5217\u5316/\u53cd\u5e8f\u5217"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"gvar.Var"})," \u5bb9\u5668\u5b9e\u73b0\u4e86\u6807\u51c6\u5e93 ",(0,s.jsx)(e.code,{children:"json"})," \u6570\u636e\u683c\u5f0f\u7684\u5e8f\u5217\u5316/\u53cd\u5e8f\u5217\u5316\u63a5\u53e3\u3002"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.code,{children:"Marshal"})}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:'    package main\n\n    import (\n        "encoding/json"\n        "fmt"\n        "github.com/gogf/gf/frame/g"\n    )\n\n    func main() {\n        type Student struct {\n            Id     *g.Var\n            Name   *g.Var\n            Scores *g.Var\n        }\n        s := Student{\n            Id:     g.NewVar(1),\n            Name:   g.NewVar("john"),\n            Scores: g.NewVar([]int{100, 99, 98}),\n        }\n        b, _ := json.Marshal(s)\n        fmt.Println(string(b))\n    }\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u6267\u884c\u540e\uff0c\u8f93\u51fa\u7ed3\u679c\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-undefined",children:'    {"Id":1,"Name":"john","Scores":[100,99,98]}\n'})}),"\n",(0,s.jsxs)(e.ol,{start:"2",children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.code,{children:"Unmarshal"})}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:'    package main\n\n    import (\n        "encoding/json"\n        "fmt"\n        "github.com/gogf/gf/frame/g"\n    )\n\n    func main() {\n        b := []byte(`{"Id":1,"Name":"john","Scores":[100,99,98]}`)\n        type Student struct {\n            Id     *g.Var\n            Name   *g.Var\n            Scores *g.Var\n        }\n        s := Student{}\n        json.Unmarshal(b, &s)\n        fmt.Println(s)\n    }\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u6267\u884c\u540e\uff0c\u8f93\u51fa\u7ed3\u679c\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-undefined",children:"    {1 john [100,99,98]}\n"})})]})}function g(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(l,{...n})}):l(n)}},563513:(n,e,r)=>{r.d(e,{A:()=>s});const s=r.p+"assets/images/fddd8301173dc4a4c61bb31538f6a0e1-11c17b7ee95a64df83030ece7e028281.png"},28453:(n,e,r)=>{r.d(e,{R:()=>i,x:()=>o});var s=r(296540);const t={},c=s.createContext(t);function i(n){const e=s.useContext(c);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:i(n.components),s.createElement(c.Provider,{value:e},n.children)}}}]);