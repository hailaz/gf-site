"use strict";(self.webpackChunkgfdoc=self.webpackChunkgfdoc||[]).push([[46158],{229280:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>d,metadata:()=>o,toc:()=>l});var s=r(474848),t=r(28453);const d={title:"\u66f4\u65b0\u5220\u9664",sidebar_position:2},a=void 0,o={id:"\u6838\u5fc3\u7ec4\u4ef6/\u6570\u636e\u5e93ORM/ORM\u94fe\u5f0f\u64cd\u4f5c/\u66f4\u65b0\u5220\u9664",title:"\u66f4\u65b0\u5220\u9664",description:"Update \u66f4\u65b0\u65b9\u6cd5",source:"@site/versioned_docs/version-1.14.x/1-\u6838\u5fc3\u7ec4\u4ef6/10-\u6570\u636e\u5e93ORM/1-ORM\u94fe\u5f0f\u64cd\u4f5c/2-\u66f4\u65b0\u5220\u9664.md",sourceDirName:"1-\u6838\u5fc3\u7ec4\u4ef6/10-\u6570\u636e\u5e93ORM/1-ORM\u94fe\u5f0f\u64cd\u4f5c",slug:"/\u6838\u5fc3\u7ec4\u4ef6/\u6570\u636e\u5e93ORM/ORM\u94fe\u5f0f\u64cd\u4f5c/\u66f4\u65b0\u5220\u9664",permalink:"/docs/1.14.x/\u6838\u5fc3\u7ec4\u4ef6/\u6570\u636e\u5e93ORM/ORM\u94fe\u5f0f\u64cd\u4f5c/\u66f4\u65b0\u5220\u9664",draft:!1,unlisted:!1,tags:[],version:"1.14.x",sidebarPosition:2,frontMatter:{title:"\u66f4\u65b0\u5220\u9664",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"\u5199\u5165\u4fdd\u5b58",permalink:"/docs/1.14.x/\u6838\u5fc3\u7ec4\u4ef6/\u6570\u636e\u5e93ORM/ORM\u94fe\u5f0f\u64cd\u4f5c/\u5199\u5165\u4fdd\u5b58"},next:{title:"\u6570\u636e\u67e5\u8be2",permalink:"/docs/1.14.x/\u6838\u5fc3\u7ec4\u4ef6/\u6570\u636e\u5e93ORM/ORM\u94fe\u5f0f\u64cd\u4f5c/\u6570\u636e\u67e5\u8be2"}},c={},l=[{value:"<code>Update</code> \u66f4\u65b0\u65b9\u6cd5",id:"update-\u66f4\u65b0\u65b9\u6cd5",level:3},{value:"<code>Delete</code> \u5220\u9664\u65b9\u6cd5",id:"delete-\u5220\u9664\u65b9\u6cd5",level:3}];function i(e){const n={blockquote:"blockquote",code:"code",h3:"h3",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h3,{id:"update-\u66f4\u65b0\u65b9\u6cd5",children:[(0,s.jsx)(n.code,{children:"Update"})," \u66f4\u65b0\u65b9\u6cd5"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Update"})," \u7528\u4e8e\u6570\u636e\u7684\u66f4\u65b0\uff0c\u5f80\u5f80\u9700\u8981\u7ed3\u5408 ",(0,s.jsx)(n.code,{children:"Data"})," \u53ca ",(0,s.jsx)(n.code,{children:"Where"})," \u65b9\u6cd5\u5171\u540c\u4f7f\u7528\u3002 ",(0,s.jsx)(n.code,{children:"Data"})," \u65b9\u6cd5\u7528\u4e8e\u6307\u5b9a\u9700\u8981\u66f4\u65b0\u7684\u6570\u636e\uff0c ",(0,s.jsx)(n.code,{children:"Where"})," \u65b9\u6cd5\u7528\u4e8e\u6307\u5b9a\u66f4\u65b0\u7684\u6761\u4ef6\u8303\u56f4\u3002\u540c\u65f6\uff0c ",(0,s.jsx)(n.code,{children:"Update"})," \u65b9\u6cd5\u4e5f\u652f\u6301\u76f4\u63a5\u7ed9\u5b9a\u6570\u636e\u548c\u6761\u4ef6\u53c2\u6570\u3002"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\u9700\u8981\u6ce8\u610f\u90e8\u5206\u6570\u636e\u5e93\u7c7b\u578b\u652f\u6301\u66f4\u65b0\u6761\u4ef6\u7ed3\u5408\u67e5\u8be2\u3001\u6392\u5e8f\u3001\u5206\u7ec4\u3001\u6761\u6570\u7b49\u5171\u540c\u4f7f\u7528\u3002"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u4f7f\u7528\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'// UPDATE `user` SET `name`=\'john guo\' WHERE name=\'john\'\nr, err := db.Table("user").Data(g.Map{"name" : "john guo"}).Where("name", "john").Update()\nr, err := db.Table("user").Data("name=\'john guo\'").Where("name", "john").Update()\n// UPDATE `user` SET `status`=1 ORDER BY `login_time` asc LIMIT 10\nr, err := db.Table("user").Data("status", 1).Order("login_time asc").Limit(10).Update()\n\n// UPDATE `user` SET `status`=1\nr, err := db.Table("user").Data("status=1").Update()\nr, err := db.Table("user").Data("status", 1).Update()\nr, err := db.Table("user").Data(g.Map{"status" : 1}).Update()\n\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u4e5f\u53ef\u4ee5\u76f4\u63a5\u7ed9 ",(0,s.jsx)(n.code,{children:"Update"})," \u65b9\u6cd5\u4f20\u9012 ",(0,s.jsx)(n.code,{children:"data"})," \u53ca ",(0,s.jsx)(n.code,{children:"where"})," \u53c2\u6570\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'// UPDATE `user` SET `name`=\'john guo\' WHERE name=\'john\'\nr, err := db.Table("user").Update(g.Map{"name" : "john guo"}, "name", "john")\nr, err := db.Table("user").Update("name=\'john guo\'", "name", "john")\n\n// UPDATE `user` SET `status`=1\nr, err := db.Table("user").Update("status=1")\nr, err := db.Table("user").Update(g.Map{"status" : 1})\n\n'})}),"\n",(0,s.jsxs)(n.h3,{id:"delete-\u5220\u9664\u65b9\u6cd5",children:[(0,s.jsx)(n.code,{children:"Delete"})," \u5220\u9664\u65b9\u6cd5"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Delete"})," \u65b9\u6cd5\u7528\u4e8e\u6570\u636e\u7684\u5220\u9664\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u4f7f\u7528\u793a\u4f8b"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'// DELETE FROM `user` WHERE uid=10\nr, err := db.Table("user").Where("uid", 10).Delete()\n// DELETE FROM `user` ORDER BY `login_time` asc LIMIT 10\nr, err := db.Table("user").Order("login_time asc").Limit(10).Delete()\n\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u4e5f\u53ef\u4ee5\u76f4\u63a5\u7ed9 ",(0,s.jsx)(n.code,{children:"Delete"})," \u65b9\u6cd5\u4f20\u9012 ",(0,s.jsx)(n.code,{children:"where"})," \u53c2\u6570\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'// DELETE FROM `user` WHERE `uid`=10\nr, err := db.Table("user").Delete("uid", 10)\n// DELETE FROM `user` WHERE `score`<60\nr, err := db.Table("user").Delete("score < ", 60)\n\n'})})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(i,{...e})}):i(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>o});var s=r(296540);const t={},d=s.createContext(t);function a(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);